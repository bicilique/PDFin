<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.pdftoolkit.controllers.SplitController"
            fitToWidth="true" fitToHeight="true"
            styleClass="content-scroll">

<StackPane>

    <VBox styleClass="tool-view" spacing="24">
        <padding>
            <Insets top="40" right="40" bottom="40" left="40"/>
        </padding>

        <!-- Header -->
        <VBox spacing="8">
            <Label text="%split.title" styleClass="page-title"/>
            <Label text="%split.subtitle" styleClass="page-subtitle"/>
        </VBox>

        <Separator/>

        <!-- Step 1: Pilih Berkas -->
        <VBox spacing="16">
            <Label text="%split.step1" styleClass="step-title"/>
            
            <VBox fx:id="dropZone" styleClass="drop-zone" alignment="CENTER" spacing="12" prefHeight="140">
                <Label text="%split.dropHint" styleClass="drop-hint"/>
                <Label text="%split.dropHintOr" styleClass="drop-hint-secondary"/>
                <Button fx:id="addFileButton" text="%split.selectFile" styleClass="secondary-button"/>
            </VBox>

            <Label fx:id="selectedFileLabel" text="%split.noFileSelected" styleClass="selected-file-label"/>
        </VBox>

        <Separator/>

        <!-- Step 2: Pilih Metode -->
        <VBox spacing="16">
            <Label text="%split.step2" styleClass="step-title"/>
            
            <HBox styleClass="segmented" spacing="0" alignment="CENTER_LEFT">
                <ToggleButton fx:id="extractPagesToggle" text="%split.extractPages" styleClass="toggle-button" selected="true"/>
                <ToggleButton fx:id="splitByRangesToggle" text="%split.splitByRanges" styleClass="toggle-button"/>
                <ToggleButton fx:id="splitEveryNToggle" text="%split.splitEveryN" styleClass="toggle-button"/>
            </HBox>

            <VBox spacing="8">
                <Label text="%split.rangeLabel" styleClass="field-label"/>
                <TextField fx:id="rangeInputField" promptText="%split.rangeHintExtract" 
                           styleClass="field-input"/>
                <Label fx:id="rangeHintLabel" text="%split.rangeHintExtract" styleClass="hint-label"/>
            </VBox>
        </VBox>

        <Separator/>

        <!-- Step 3: Output -->
        <VBox spacing="16">
            <Label text="%split.step3" styleClass="step-title"/>
            
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="%split.outputFolder" minWidth="120" styleClass="field-label"/>
                <TextField fx:id="outputFolderField" HBox.hgrow="ALWAYS" editable="false" 
                           promptText="%split.chooseFolder" styleClass="field-input"/>
                <Button fx:id="browseOutputButton" text="%split.chooseFolder" styleClass="secondary-button"/>
            </HBox>

            <Label fx:id="validationLabel" styleClass="validation-error" visible="false" wrapText="true"/>
        </VBox>

        <!-- Footer Actions -->
        <HBox spacing="12" alignment="CENTER" styleClass="footer-actions">
            <Button fx:id="backButton" text="%split.goBack" styleClass="secondary-button"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="processButton" text="%split.splitNow" styleClass="primary-button" 
                    defaultButton="true"/>
        </HBox>
    </VBox>

    <!-- Progress Overlay -->
    <StackPane fx:id="progressOverlay" styleClass="progress-overlay" visible="false" managed="false">
        <VBox alignment="CENTER" spacing="32" styleClass="progress-card">
            <VBox alignment="CENTER" spacing="16">
                <Label text="%split.processing" styleClass="progress-title"/>
                <ProgressBar fx:id="progressBar" prefWidth="400" styleClass="progress-bar" progress="-1"/>
                <Label fx:id="progressLabel" text="%progress.processing" styleClass="progress-message"/>
            </VBox>
            
            <Button fx:id="cancelButton" text="%split.cancel" styleClass="secondary-button"/>
            
            <VBox fx:id="completionPane" alignment="CENTER" spacing="20" visible="false" managed="false">
                <Label text="âœ“" styleClass="success-icon"/>
                <Label fx:id="completionMessage" text="%split.success" 
                       styleClass="success-message" wrapText="true" textAlignment="CENTER" maxWidth="400"/>
                <HBox spacing="16" alignment="CENTER">
                    <Button fx:id="openFolderButton" text="%split.openFolder" styleClass="secondary-button"/>
                    <Button fx:id="processAnotherButton" text="%split.processAnother" styleClass="primary-button"/>
                </HBox>
            </VBox>
        </VBox>
    </StackPane>
</StackPane>
</ScrollPane>
